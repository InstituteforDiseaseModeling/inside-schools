# Scripts

This is the folder for the scripts that generate the figures in the report.

## Getting started

Before running any of the analysis scripts, run `python create_pops.py`. This will generate the population files that are required. The scripts also require the files `fit_EI.obj` and `fit_IR.obj`; these are included in the repo, but can be regenerated by running `fit_transmats.py`.

There are various run options, defined in `config.py`. If running from the command line, you can pass the `--debug` or `--micro` arguments to scripts for small or minimal versions respectively, or `--full` to run with more seeds and larger populations. These settings can also be modified directly in `config.py`. If running on a standard laptop, `micro` should take a few seconds, `debug` should take a few tens of seconds, and `full` should take a few hours. Note that if you change the population size, you may need to rerun `create_pops.py`. You can also use the `--show` argument to show the plots when running from the command line.

## Generating results

To calculate (a) the introduction rate as a function of prevalence, (b) distribution of outbreak size, and (c) source of infections in schools, run `run_baseline.py`. 

Note that most scripts come in two versions, a "plain" version and an "outbreak" version. The outbreak version typically performs slightly different analyses and generates additional plots. To run the outbreak version, use the `--outbreak` flag in the command line, or set `outbreak = True` in the script.